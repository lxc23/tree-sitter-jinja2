====================
Empty statements
====================

{%%}

---

(template
  (jinja_statement)
  (content))

====================
For statements
====================

<h1>Members</h1>
<ul>
{% for user in users %}
  <li>{{ user.username|e }}</li>
{% endfor %}
</ul>

---

(template
  (content)
  (jinja_statement
    (for_statement
        left: (identifier)
        right: (identifier)))
  (content)
  (jinja_expression
    (filter
      object: (attribute
          object: (identifier)
          attribute: (identifier))
      filter: (identifier)))
  (content)
  (jinja_statement
    (end_statement))
  (content))

====================
For statements w/ filter
====================

<dl>
{% for key, value in my_dict | dictsort %}
    <dt>{{ key|e }}</dt>
    <dd>{{ value|e }}</dd>
{% endfor %}
</dl>

---

(template
  (content)
  (jinja_statement
    (for_statement
      left: (pattern_list
        (identifier)
        (identifier))
      right: (filter
        object: (identifier)
        filter: (identifier))))
  (content)
  (jinja_expression
    (filter
      object: (identifier)
      filter: (identifier)))
  (content)
  (jinja_expression
    (filter
      object: (identifier)
      filter: (identifier)))
  (content)
  (jinja_statement
    (end_statement))
  (content))

====================
For statements w/ sequence filter
====================

{% for user in users if not user.hidden %}
    <li>{{ user.username|e }}</li>
{% endfor %}

---

(template
  (jinja_statement
    (for_statement
      left: (identifier)
      right: (identifier)
      (if_statement
        condition: (not_operator
          argument: (attribute
            object: (identifier)
            attribute: (identifier))))))
  (content)
  (jinja_expression
    (filter
      object: (attribute
        object: (identifier)
        attribute: (identifier))
      filter: (identifier)))
  (content)
  (jinja_statement
    (end_statement))
  (content))

====================
For statements w/ recursive
====================

<ul class="sitemap">
{%- for item in sitemap recursive %}
    <li><a href="{{ item.href|e }}">{{ item.title }}</a>
    {%- if item.children -%}
        <ul class="submenu">{{ loop(item.children) }}</ul>
    {%- endif %}</li>
{%- endfor %}
</ul>

---

(template
  (content)
  (jinja_statement
    (for_statement
      left: (identifier)
      right: (identifier)))
  (content)
  (jinja_expression
    (filter
      object: (attribute
        object: (identifier)
        attribute: (identifier))
      filter: (identifier)))
  (content)
  (jinja_expression
    (attribute
      object: (identifier)
      attribute: (identifier)))
  (content)
  (jinja_statement
    (if_statement
      condition: (attribute
        object: (identifier)
        attribute: (identifier))))
  (content)
  (jinja_expression
    (call
      function: (identifier)
      arguments: (argument_list
        (attribute
          object: (identifier)
          attribute: (identifier)))))
  (content)
  (jinja_statement
    (end_statement))
  (content)
  (jinja_statement
    (end_statement))
  (content))

====================
If statements
====================

{% if users %}
<ul>
{% for user in users %}
    <li>{{ user.username|e }}</li>
{% endfor %}
</ul>
{% endif %}

---

(template
  (jinja_statement
    (if_statement
      condition: (identifier)))
  (content)
  (jinja_statement
    (for_statement
      left: (identifier)
      right: (identifier)))
  (content)
  (jinja_expression
    (filter
      object: (attribute
        object: (identifier)
        attribute: (identifier))
      filter: (identifier)))
  (content)
  (jinja_statement
    (end_statement))
  (content)
  (jinja_statement
    (end_statement))
  (content))

====================
If/Else statements
====================

{% if kenny.sick %}
    Kenny is sick.
{% elif kenny.dead %}
    You killed Kenny!  You bastard!!!
{% else %}
    Kenny looks okay --- so far
{% endif %}

---

(template
  (jinja_statement
    (if_statement
      condition: (attribute
        object: (identifier)
        attribute: (identifier))))
  (content)
  (jinja_statement
    (elif_statement
      condition: (attribute
        object: (identifier)
        attribute: (identifier))))
  (content)
  (jinja_statement
    (else_statement))
  (content)
  (jinja_statement
    (end_statement))
  (content))

====================
Macro statements
====================

{% macro input(name, value='', type='text', size=20) -%}
    <input type="{{ type }}" name="{{ name }}" value="{{
        value|e }}" size="{{ size }}">
{%- endmacro %}

<p>{{ input('username') }}</p>
<p>{{ input('password', type='password') }}</p>

---

(template
  (jinja_statement
    (macro_statement
      name: (identifier)
      parameters: (parameters
        (identifier)
        (default_parameter
          name: (identifier)
          value: (string
            (string_start)
            (string_end)))
        (default_parameter
          name: (identifier)
          value: (string
            (string_start)
            (string_content)
            (string_end)))
        (default_parameter
          name: (identifier)
          value: (integer)))))
  (content)
  (jinja_expression
    (identifier))
  (content)
  (jinja_expression
    (identifier))
  (content)
  (jinja_expression
    (filter
      object: (identifier)
      filter: (identifier)))
  (content)
  (jinja_expression
    (identifier))
  (content)
  (jinja_statement
    (end_statement))
  (content)
  (jinja_expression
    (call
      function: (identifier)
      arguments: (argument_list
        (string
          (string_start)
          (string_content)
          (string_end)))))
  (content)
  (jinja_expression
    (call
      function: (identifier)
      arguments: (argument_list
        (string
          (string_start)
          (string_content)
          (string_end))
        (keyword_argument
          name: (identifier)
          value: (string
            (string_start)
            (string_content)
            (string_end))))))
  (content))

====================
Call statements
====================

{% call(user) dump_users(list_of_user) %}
    <dl>
        <dt>Realname</dt>
        <dd>{{ user.realname|e }}</dd>
        <dt>Description</dt>
        <dd>{{ user.description }}</dd>
    </dl>
{% endcall %}

---

(template
  (jinja_statement
    (call_statement
      parameters: (parameters
        (identifier))
      callable: (call
        function: (identifier)
        arguments: (argument_list
          (identifier)))))
  (content)
  (jinja_expression
    (filter
      object: (attribute
        object: (identifier)
        attribute: (identifier))
      filter: (identifier)))
  (content)
  (jinja_expression
    (attribute
      object: (identifier)
      attribute: (identifier)))
  (content)
  (jinja_statement
    (end_statement))
  (content))

====================
Filter statements
====================

{% filter upper %}
    This text becomes uppercase
{% endfilter %}

{% filter center(100) %}Center this{% endfilter %}

---

(template
  (jinja_statement
    (filter_statement
      filter: (identifier)))
  (content)
  (jinja_statement
    (end_statement))
  (jinja_statement
    (filter_statement
      filter: (call
        function: (identifier)
        arguments: (argument_list
          (integer)))))
  (content)
  (jinja_statement
    (end_statement))
  (content))

====================
Assignment statements
====================

{% set navigation = [('index.html', 'Index'), ('about.html', 'About')] %}
{% set key, value = call_something() %}

---

(template
  (jinja_statement
    (set_statement
      assignment: (assignment
        left: (identifier)
        right: (list
          (tuple
            (string
              (string_start)
              (string_content)
              (string_end))
            (string
              (string_start)
              (string_content)
              (string_end)))
          (tuple
            (string
              (string_start)
              (string_content)
              (string_end))
            (string
              (string_start)
              (string_content)
              (string_end)))))))
  (jinja_statement
    (set_statement
      assignment: (assignment
        left: (pattern_list
          (identifier)
          (identifier))
        right: (call
          function: (identifier)
          arguments: (argument_list)))))
  (content))

====================
Assignment statements
====================

{% set navigation %}
    <li><a href="/">Index</a>
    <li><a href="/downloads">Downloads</a>
{% endset %}

{% set reply | wordwrap %}
    You wrote:
    {{ message }}
{% endset %}

---

(template
  (jinja_statement
    (set_statement
      assignment: (identifier)))
  (content)
  (jinja_statement
    (end_statement))
  (jinja_statement
    (set_statement
      assignment: (filter
        object: (identifier)
        filter: (identifier))))
  (content)
  (jinja_expression
    (identifier))
  (jinja_statement
    (end_statement))
  (content))

====================
Block assignment statements
====================

{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important { color: #336699; }
    </style>
{% endblock %}
{% block content %}
    <h1>Index</h1>
    <p class="important">
      Welcome to my awesome homepage.
    </p>
{% endblock %}

---

(template
  (jinja_statement
    (extends_statement
      (string
        (string_start)
        (string_content)
        (string_end))))
  (jinja_statement
    (block_statement
      name: (identifier)))
  (content)
  (jinja_statement
    (end_statement))
  (jinja_statement
    (block_statement
      name: (identifier)))
  (jinja_expression
    (call
      function: (identifier)
      arguments: (argument_list)))
  (content)
  (jinja_statement
    (end_statement))
  (jinja_statement
    (block_statement
      name: (identifier)))
  (content)
  (jinja_statement
    (end_statement))
  (content))

====================
Include statements
====================

{% include "sidebar.html" %}
{% include "sidebar.html" without context %}
{% include "sidebar.html" ignore missing %}
{% include "sidebar.html" ignore missing with context %}
{% include "sidebar.html" ignore missing without context %}

---

(template
  (jinja_statement
    (include_statement
      (string
        (string_start)
        (string_content)
        (string_end))))
  (jinja_statement
    (include_statement
      (string
        (string_start)
        (string_content)
        (string_end))))
  (jinja_statement
    (include_statement
      (string
        (string_start)
        (string_content)
        (string_end))))
  (jinja_statement
    (include_statement
      (string
        (string_start)
        (string_content)
        (string_end))))
  (jinja_statement
    (include_statement
      (string
        (string_start)
        (string_content)
        (string_end))))
  (content))


====================
Import statements
====================

{% import 'forms.html' as forms %}
{% from 'forms.html' import input as input_field, textarea %}

---

(template
  (jinja_statement
    (import_statement
      name: (aliased_import
        name: (string
          (string_start)
          (string_content)
          (string_end))
        alias: (identifier))))
  (jinja_statement
    (import_from_statement
      module_name: (string
        (string_start)
        (string_content)
        (string_end))
      name: (aliased_import
        name: (identifier)
        alias: (identifier))
      name: (identifier)))
  (content))
